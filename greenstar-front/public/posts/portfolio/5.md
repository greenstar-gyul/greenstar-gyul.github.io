<style>
@font-face {
  font-family: "D2Coding";
  src: url("../../D2Coding-Ver1.3.2-20180524.ttf") format("truetype");
  font-weight: normal;
}

code {
  font-family: 'D2Coding', serif;
}
</style>

# 텍스트 기반 RPG 게임
---
* 여러 선택지를 고르면서 플레이하는 텍스트 기반의 게임.
* JDBC 이용, 게임 진행 정보 저장
* 스토리 진행은 분기 형식으로 다양한 루트 설계
* 이 게임은 나눔 코딩 폰트에 최적화되어 있으며 실제 게임 화면은 다를 수 있음.
---
### 시작 메뉴
---
#### 초기 메뉴
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                      ┃
┃                       ┼───────────────────────┼                      ┃
┃                       │ 귤 Text RPG ver 0.1.1 │                      ┃
┃                       │      Beta Version     │                      ┃
┃                       ┼───────────────────────┼                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃     게임 시작 전 화면에 모든 글이 나타나도록 크기를 조절해주세요.    ┃
┃                                                                      ┃
┣━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫
┃          1. 처음부터        2. 불러오기        9. 게임종료           ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
메뉴 입력 >> 
```
---
#### 처음부터 선택했을 때
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                 귤 Text RPG를 즐겨주셔서 감사합니다!                 ┃
┃                 게임 진행을 위해 아래 규칙에 맞도록                  ┃
┃                  아이디와 비밀번호를 입력해주세요.                   ┃
┃                                                                      ┃
┃          ==================================================          ┃
┃                                                                      ┃
┃             ID : 2글자 이상 8글자 이하, 대소문자 구분 X              ┃
┃             PW : 4글자 이상 20글자 이하, 대소문자 구분 X             ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
ID 입력 >> test
PW 입력 >> 1234
```
* ID 중복 불가
* 조건 만족하지 않을 시 재입력
---
#### ID, PW 입력 완료
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                        계정 생성에 성공했어요!                       ┃
┃                       당신의 이름을 알려주세요!                      ┃
┃                                                                      ┃
┃          ==================================================          ┃
┃                                                                      ┃
┃                     이름 : 2글자 이상 10글자 이하                    ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
이름 입력 >> 테스트계정
```
---
#### 직업선택
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                         직업을 선택해주세요!                         ┃
┃                    한 번 선택하면 바꿀 수 없어요!                    ┃
┃                                                                      ┃
┃          ==================================================          ┃
┃                                                                      ┃
┃                   1. 검사(높은 체력, 낮은 공격력)                    ┃
┃                   2. 궁수(낮은 체력, 높은 공격력)                    ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
직업 선택 >> 2
```
---
#### 불러오기 화면
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                      진행 정보를 불러오기 위해                       ┃
┃                  아이디와 비밀번호를 입력해주세요.                   ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
ID 입력 >> test
PW 입력 >> 1234
```
* ID나 PW가 일치하지 않을 시 메인 타이틀로 이동
---
### 메인 게임 화면
---
#### 게임 진행 상황
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃ 최근 예담 마을이 몬스터의 습격을 자주 받는다는 소문이 돌고 있습니다. ┃
┃  당신은 자유로운 모험가로, 현재 예담 마을의 근처를 지나고 있습니다.  ┃
┃              소문을 떠올린 당신은 예담 마을로 향합니다.              ┃
┃                                                                      ┃
┃                   예담 마을의 입구에 도착할 무렵,                    ┃
┃                늑대에게 습격당한 마차를 발견했습니다.                ┃
┃                                                                      ┃
┃                                [마부]                                ┃
┃                         "제발! 누가 도와줘!"                         ┃
┃                   "늑대가 내 마차를 공격하고 있어!"                  ┃
┃                                                                      ┃
┃          ==================================================          ┃
┃                                                                      ┃
┃                             1. 도와준다.                             ┃
┃                             2. 무시한다.                             ┃
┃                                                                      ┃
┃                                                                      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
선택 >> 1
```
* 선택지에 따라 진행 방향이나 보상 등이 다름
---
#### 마을 내부 메뉴
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                         무엇을 하면 좋을까?                          ┃
┃                                                                      ┃
┃          ==================================================          ┃
┃                                                                      ┃
┃            1. 여관에서 휴식하기 (체력 50% 회복, 100골드)             ┃
┃                          2. 던전으로 출발                            ┃
┃                          3. 인벤토리 보기                            ┃
┃    4. 수련장 이용하기 (10골드, 경험치 15+, 일정 확률로 포션 획득)    ┃
┃                            7. 저장하기                               ┃
┃                        8. 저장하고 타이틀로                          ┃
┃                            9. 타이틀로                               ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
선택 >> 
```
---
### 인벤토리
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                ┼────────────────────┼┃
┃                                                │이름     테스트계정 │┃
┃                                                │공격력   17         │┃
┃                                                │레벨     1          │┃
┃                                                │경험치   0          │┃
┃                                                │소지금   0          │┃
┃                                                │체력     80         │┃
┃                                                ┼────────────────────┼┃
┃                                                                      ┃
┃                                                                      ┃
┃                                                                      ┃
┃이름              │ 공격력 │ 요구레벨 │ 착용여부(Y/N)                 ┃
┃==================================================                    ┃
┃낡은활            │   2    │    1     │   Y                           ┃
┃                  │        │          │                               ┃
┃                  │        │          │                               ┃
┃                  │        │          │                               ┃
┃                  │        │          │                               ┃
┣━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫
┃ P: 앞 페이지  N: 다음 페이지  1~5: 장착/장착해제  C:소비창  Q: 닫기  ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
선택 >> 
```
* 인벤토리 화면 페이지네이션 적용
---
### 전투
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃                                                       ┼─────────────┼┃
┃                                                       │[늑대] 정보  │┃
┃                                                       │체력    : 35 │┃
┃                                                       │공격력  : 5  │┃
┃                                                       ┼─────────────┼┃
┃                                                                      ┃
┃                         행동을 선택해주세요.                         ┃
┃                                                                      ┃
┃┼───────────────────┼                                                 ┃
┃│이름     테스트계정│                                                 ┃
┃│공격력   17        │                                                 ┃
┃│레벨     1         │                                                 ┃
┃│경험치   0         │                                                 ┃
┃│소지금   0         │                                                 ┃
┃│체력     80        │                                                 ┃
┃┼───────────────────┼                                                 ┃
┣━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫
┃           1. 공격 (행동 소모)  2. 인벤토리 열기 (행동 소모)          ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
행동을 선택해주세요. >> 
```
---
### 테이블
---
#### 유저정보 테이블 user_tbl
```sql
CREATE TABLE user_tbl(
    user_id    VARCHAR2(30) PRIMARY KEY,
    user_pw    VARCHAR2(30) NOT NULL,
    user_name  VARCHAR2(30) NOT NULL,
    main_class VARCHAR2(20),
    user_level NUMBER,
    health     NUMBER,
    mana       NUMBER,
    attack     NUMBER,
    user_exp   NUMBER,
    money      NUMBER
);
```
---
#### 진행정보(불러오기, 진행정보 저장 전용) save_tbl
```sql
CREATE TABLE save_tbl(
    user_id      VARCHAR2(30),
    progress     NUMBER,          -- 4자리 정수
    FOREIGN KEY (user_id) REFERENCES user_tbl(user_id)
);
```
---
#### 유저장비 테이블 equip_tbl
```sql
CREATE TABLE inventory_tbl(
    data_code   Number Primary Key,
    user_id     VARCHAR2(10),
    item_code   Number,  --아이템 코드 (items.json 참고)
    item_cnt    Number,  --아이템 수량
    equipped    VARCHAR2(1) DEFAULT 'N', -- 장착여부
    equip_code  Number UNIQUE, --장비아이템 검색용 코드
    FOREIGN KEY (user_id) REFERENCES user_tbl(user_id)
);
```
---

### 파일 입출력
---
#### 몬스터정보
```json
{
    "일반": {
        "늑대": {
            "name": "늑대",
            "health": 35,
            "damage": 5,
            "level": 1,
            "exp": 35,
            "drop": 15
        },
        ...
    },
    ...
}
```
---
#### 이벤트 정보
```json
{
    "1000": {
        "1": { 
            "Event": [
                "최근 예담 마을이 몬스터의 습격을 자주 받는다는 소문이 돌고 있습니다.",
                "당신은 자유로운 모험가로, 현재 예담 마을의 근처를 지나고 있습니다.",
                "소문을 떠올린 당신은 예담 마을로 향합니다.",
                "",
                "예담 마을의 입구에 도착할 무렵,",
                "늑대에게 습격당한 마차를 발견했습니다.",
                "",
                "[마부]",
                "\"제발! 누가 도와줘!\"",
                "\"늑대가 내 마차를 공격하고 있어!\""
            ],
            ...,
        },
        ...,
    },
    ...,
}
```
---
#### 아이템 정보
```json
{
    "Weapon": {
        "1000": {
            "code": 1000,
            "name": "낡은검",
            "buy": 5,
            "sell": 1,
            "atk": 1,
            "reqlv": 1
        },...
    },
    "Potion": {
        "7001": {
            "code": 7001,
            "name": "하급물약",
            "buy": 5,
            "sell": 3,
            "healp": 10
        },...
    }
}
```

* 그 외 직업 능력치, 경험치 테이블, 메뉴 구성 등 json파일 저장
---
### Source
Git: https://github.com/greenstar-gyul/GyulTxTRPG