# ğŸŸ¡ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ - (4) Spring MVC & Controller

## âœ… Spring MVCë€?

> **Model-View-Controller íŒ¨í„´**ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬**!
> **í™”ë©´ê³¼ ë°ì´í„° ì²˜ë¦¬ë¥¼ ë¶„ë¦¬**í•´ì„œ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” êµ¬ì¡°! ğŸŒ

---

## ğŸ“Œ MVC íŒ¨í„´ ê¸°ë³¸ ê°œë…

### ğŸ” ëª¨ë¸2 ë°©ì‹ (MVC2)

> **í™”ë©´ê³¼ ë°ì´í„° ì²˜ë¦¬ë¥¼ ë¶„ë¦¬**í•´ì„œ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” êµ¬ì¡°

#### ğŸ¯ ê° êµ¬ì„±ìš”ì†Œì˜ ì—­í• 

| êµ¬ì„±ìš”ì†Œ        | ì—­í•                            | ì˜ˆì‹œ                     |
| ----------- | ---------------------------- | ---------------------- |
| **Model**   | **ë°ì´í„° í˜¹ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì˜ì—­**      | ì‚¬ìš©ì ì •ë³´, ìƒí’ˆ ì •ë³´, DTO ê°ì²´  |
| **View**    | **ê²°ê³¼í™”ë©´ì„ ë§Œë“¤ì–´ ë‚´ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ìì›**    | JSP, Thymeleaf, HTML   |
| **Controller** | **ì›¹ì˜ ìš”ì²­(request)ì„ ì²˜ë¦¬í•˜ëŠ” ì˜ì—­**   | @Controller í´ë˜ìŠ¤, ìš”ì²­ ë§¤í•‘ |

### ğŸ“Š MVC2 êµ¬ì¡° íë¦„

```text
ë¸Œë¼ìš°ì €(Client) 
    â†“ â‘  ìš”ì²­
Controller (ìš”ì²­ ì²˜ë¦¬ + ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í˜¸ì¶œ)
    â†“ â‘¡ ë°ì´í„° ì²˜ë¦¬
Model (ë°ì´í„° ì²˜ë¦¬ ì˜ì—­)
    â†“ â‘¢ ì²˜ë¦¬ ê²°ê³¼
View (ê²°ê³¼ í™”ë©´ ìƒì„±)
    â†“ â‘£ ì‘ë‹µ
ë¸Œë¼ìš°ì €(Client)
```

---

## ğŸ”§ Spring MVC êµ¬ì¡° ì™„ì „ë¶„ì„

### ğŸ“Œ Front-Controller íŒ¨í„´

> **ëª¨ë“  ìš”ì²­ì„ í•˜ë‚˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë°›ì•„ì„œ ì ì ˆí•œ í•¸ë“¤ëŸ¬ì—ê²Œ ë¶„ë°°**í•˜ëŠ” íŒ¨í„´

#### ğŸ¯ Spring MVC ì‹¤í–‰ íë¦„

| ë‹¨ê³„ | êµ¬ì„±ìš”ì†Œ              | ì—­í•                            |
| -- | ----------------- | ---------------------------- |
| â‘   | **Client**        | HTTP ìš”ì²­ ë°œì†¡                  |
| â‘¡  | **DispatcherServlet** | ìš”ì²­ì„ ë°›ì•„ì„œ HandlerMappingì—ê²Œ ì „ë‹¬   |
| â‘¢  | **HandlerMapping** | ìš”ì²­ URLì— ë§ëŠ” Controller ì°¾ê¸°     |
| â‘£  | **HandlerAdapter** | Controllerì˜ ë©”ì†Œë“œ ì‹¤í–‰           |
| â‘¤  | **Controller**    | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ í›„ ModelAndView ë°˜í™˜ |
| â‘¥  | **ViewResolver**  | View ì´ë¦„ìœ¼ë¡œ ì‹¤ì œ View ê°ì²´ ì°¾ê¸°     |
| â‘¦  | **View**          | ìµœì¢… HTML ìƒì„± í›„ Clientì—ê²Œ ì‘ë‹µ     |

### ğŸ” ìƒì„¸ ì„¤ëª…

#### **â‘  DispatcherServlet**
- **Front Controller** ì—­í• 
- **ëª¨ë“  HTTP ìš”ì²­ì˜ ì§„ì…ì **
- ìš”ì²­ì„ ì ì ˆí•œ í•¸ë“¤ëŸ¬ì—ê²Œ ë¶„ë°°

#### **â‘¡ HandlerMapping**
- **URLê³¼ Controller ë§¤í•‘ ì •ë³´ ê´€ë¦¬**
- `@RequestMapping` ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì ì ˆí•œ Controller ì„ íƒ

#### **â‘¢ HandlerAdapter**
- **Controllerì˜ ë©”ì†Œë“œë¥¼ ì‹¤ì œë¡œ í˜¸ì¶œ**
- ë‹¤ì–‘í•œ íƒ€ì…ì˜ Controller ì§€ì›

#### **â‘£ Controller**
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬**
- Service ë ˆì´ì–´ í˜¸ì¶œ
- **ModelAndView ê°ì²´ ë°˜í™˜**

#### **â‘¤ ViewResolver**
- **ë…¼ë¦¬ì ì¸ View ì´ë¦„ì„ ì‹¤ì œ View ê°ì²´ë¡œ ë³€í™˜**
- ì˜ˆ: "user/list" â†’ "/WEB-INF/views/user/list.jsp"

#### **â‘¥ View**
- **ìµœì¢… HTML ìƒì„±**
- JSP, Thymeleaf, FreeMarker ë“±

---

## âœ… Spring MVC ì„¤ì • (servlet-context.xml)

### ğŸ“Œ í•„ìˆ˜ ì„¤ì • ìš”ì†Œ

```xml
<!-- servlet-context.xml -->
<beans>
    <!-- 1. ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” -->
    <context:component-scan base-package="com.example.controller" />
    
    <!-- 2. ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ MVC ì„¤ì • -->
    <mvc:annotation-driven />
    
    <!-- 3. ViewResolver ì„¤ì • -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/views/" />
        <property name="suffix" value=".jsp" />
    </bean>
    
    <!-- 4. ì •ì  ë¦¬ì†ŒìŠ¤ ì²˜ë¦¬ -->
    <mvc:resources mapping="/resources/**" location="/resources/" />
</beans>
```

### ğŸ”§ ê° ì„¤ì •ì˜ ì—­í• 

| ì„¤ì •                      | ì—­í•                                     |
| ----------------------- | ------------------------------------- |
| `<component-scan/>`     | **@Controller, @Service, @Repository** ìŠ¤ìº” |
| `<annotation-driven/>`  | **@RequestMapping, @Autowired** ë“± í™œì„±í™”    |
| **ViewResolver**        | **View ì´ë¦„ìœ¼ë¡œ ì‹¤ì œ JSP íŒŒì¼ ë§¤í•‘**            |
| `<mvc:resources/>`      | **CSS, JS, ì´ë¯¸ì§€** ë“± ì •ì  ë¦¬ì†ŒìŠ¤ ê²½ë¡œ ì„¤ì •       |

---

## ğŸ¯ Controller ì–´ë…¸í…Œì´ì…˜

### ğŸ“Œ ê¸°ë³¸ Controller ì„¤ì •

#### **@Controller**
```java
@Controller
public class UserController {
    // DispatcherServletì´ ì¸ì‹í•˜ëŠ” Controller ê°ì²´ë¡œ ë§Œë“¤ê³  ì»¨í…Œì´ë„ˆì— ë¹ˆ ë“±ë¡
}
```

### ğŸ“Œ ìš”ì²­ ë§¤í•‘ ì–´ë…¸í…Œì´ì…˜

#### **@RequestMapping** - **ğŸŒŸ ê¸°ë³¸ ë§¤í•‘**
```java
@Controller
@RequestMapping("/user")  // í´ë˜ìŠ¤ ë ˆë²¨: ê³µí†µ ê²½ë¡œ
public class UserController {
    
    @RequestMapping("/list")  // ë©”ì†Œë“œ ë ˆë²¨: ì„¸ë¶€ ê²½ë¡œ
    public String getUserList() {
        return "user/list";
    }
    
    // ì—¬ëŸ¬ ê²½ë¡œ ë§¤í•‘ ê°€ëŠ¥
    @RequestMapping({"/insert", "/add"})
    public String insertUser() {
        return "user/form";
    }
    
    // HTTP ë©”ì†Œë“œ ì§€ì •
    @RequestMapping(path = "/update", method = RequestMethod.POST)
    public String updateUser() {
        return "user/update";
    }
}
```

#### **HTTP ë©”ì†Œë“œë³„ íŠ¹í™” ì–´ë…¸í…Œì´ì…˜** - **ğŸŒŸ ê¶Œì¥!**

| ì–´ë…¸í…Œì´ì…˜         | HTTP ë©”ì†Œë“œ | ìš©ë„           | ì˜ˆì‹œ                     |
| ------------- | --------- | ------------ | ---------------------- |
| `@GetMapping`   | GET       | **ì¡°íšŒ, í˜ì´ì§€ ìš”ì²­** | ëª©ë¡ ì¡°íšŒ, ìƒì„¸ í˜ì´ì§€         |
| `@PostMapping`  | POST      | **ë°ì´í„° ìƒì„±**    | íšŒì›ê°€ì…, ê²Œì‹œê¸€ ì‘ì„±          |
| `@PutMapping`   | PUT       | **ë°ì´í„° ì „ì²´ ìˆ˜ì •** | íšŒì›ì •ë³´ ì „ì²´ ìˆ˜ì •           |
| `@PatchMapping` | PATCH     | **ë°ì´í„° ë¶€ë¶„ ìˆ˜ì •** | ë¹„ë°€ë²ˆí˜¸ë§Œ ìˆ˜ì •             |
| `@DeleteMapping` | DELETE    | **ë°ì´í„° ì‚­ì œ**    | íšŒì› íƒˆí‡´, ê²Œì‹œê¸€ ì‚­ì œ        |

```java
@RestController
@RequestMapping("/api/users")
public class UserApiController {
    
    @GetMapping
    public List<User> getAllUsers() {
        // ì „ì²´ ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ
    }
    
    @GetMapping("/{id}")
    public User getUser(@PathVariable Long id) {
        // íŠ¹ì • ì‚¬ìš©ì ì¡°íšŒ
    }
    
    @PostMapping
    public User createUser(@RequestBody User user) {
        // ìƒˆ ì‚¬ìš©ì ìƒì„±
    }
    
    @PutMapping("/{id}")
    public User updateUser(@PathVariable Long id, @RequestBody User user) {
        // ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
    }
    
    @DeleteMapping("/{id}")
    public void deleteUser(@PathVariable Long id) {
        // ì‚¬ìš©ì ì‚­ì œ
    }
}
```

---

## ğŸ”· íŒŒë¼ë¯¸í„° ìˆ˜ì§‘ê³¼ ë³€í™˜

### ğŸ“Œ ë‹¤ì–‘í•œ íŒŒë¼ë¯¸í„° ìˆ˜ì§‘ ë°©ë²•

#### **1. @RequestParam** - **ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**
```java
@GetMapping("/search")
public String search(@RequestParam String keyword,
                    @RequestParam(defaultValue = "1") int page) {
    // URL: /search?keyword=spring&page=2
    return "search/result";
}

@GetMapping("/filter")
public String filter(@RequestParam Map<String, String> params) {
    // ëª¨ë“  íŒŒë¼ë¯¸í„°ë¥¼ Mapìœ¼ë¡œ ë°›ê¸°
    return "search/filter";
}
```

**ğŸ“ @RequestParam ìƒì„¸ ì˜µì…˜**

| ì˜µì…˜              | ì„¤ëª…                    | ì˜ˆì‹œ                              |
| --------------- | --------------------- | ------------------------------- |
| `value/name`    | **íŒŒë¼ë¯¸í„° ì´ë¦„ ì§€ì •**        | `@RequestParam("id") Long userId` |
| `required`      | **í•„ìˆ˜ ì—¬ë¶€** (ê¸°ë³¸: true)   | `@RequestParam(required=false)`   |
| `defaultValue`  | **ê¸°ë³¸ê°’ ì„¤ì •**            | `@RequestParam(defaultValue="1")` |

#### **2. @PathVariable** - **URI ê²½ë¡œ ë³€ìˆ˜**
```java
@GetMapping("/users/{userId}/orders/{orderId}")
public String getOrder(@PathVariable Long userId,
                      @PathVariable Long orderId) {
    // URL: /users/123/orders/456
    return "order/detail";
}

@GetMapping("/users/{id}")
public String getUser(@PathVariable("id") Long userId) {
    // ë³€ìˆ˜ëª…ì´ ë‹¤ë¥¼ ë•Œ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •
    return "user/detail";
}
```

#### **3. @RequestBody** - **JSON ë°ì´í„°**
```java
@PostMapping("/users")
public ResponseEntity<User> createUser(@RequestBody User user) {
    // Ajaxì—ì„œ JSONìœ¼ë¡œ ì „ì†¡ëœ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ User ê°ì²´ë¡œ ë³€í™˜
    userService.save(user);
    return ResponseEntity.ok(user);
}
```

**JavaScriptì—ì„œ í˜¸ì¶œ ì˜ˆì‹œ:**
```javascript
$.ajax({
    url: '/users',
    method: 'POST',
    contentType: 'application/json',
    data: JSON.stringify({
        name: 'í™ê¸¸ë™',
        email: 'hong@example.com'
    })
});
```

#### **4. @ModelAttribute** - **í¼ ë°ì´í„°**
```java
@PostMapping("/users")
public String createUser(@ModelAttribute User user) {
    // HTML í¼ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ User ê°ì²´ë¡œ ë°”ì¸ë”©
    userService.save(user);
    return "redirect:/users";
}

// ìƒëµ ê°€ëŠ¥ (ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ ì ìš©)
@PostMapping("/users")
public String createUser(User user) {
    // @ModelAttribute ìƒëµ ê°€ëŠ¥
    return "redirect:/users";
}
```

#### **5. @RequestPart** - **íŒŒì¼ ì—…ë¡œë“œ**
```java
@PostMapping("/upload")
public String uploadFile(@RequestPart("file") MultipartFile file,
                        @RequestPart("data") User user) {
    // ë©€í‹°íŒŒíŠ¸ í¼ì—ì„œ íŒŒì¼ê³¼ ë°ì´í„°ë¥¼ í•¨ê»˜ ë°›ê¸°
    return "upload/success";
}
```

---

## ğŸ“Œ ì»¨í…ìŠ¤íŠ¸ ë£¨íŠ¸ì™€ URL ë§¤í•‘

### ğŸ” URL êµ¬ì¡° ì´í•´

```text
http://localhost:8080/myApp/board/insert
         â†‘        â†‘     â†‘      â†‘      â†‘
      í˜¸ìŠ¤íŠ¸ëª…    í¬íŠ¸  ì»¨í…ìŠ¤íŠ¸ë£¨íŠ¸  ì»¨íŠ¸ë¡¤ëŸ¬  ë©”ì†Œë“œ
```

### ğŸ¯ ì‹¤ì œ ë§¤í•‘ ì˜ˆì‹œ

```java
// ì»¨í…ìŠ¤íŠ¸ ë£¨íŠ¸: /myApp
@Controller
@RequestMapping("/board")  // í´ë˜ìŠ¤ ë ˆë²¨ ë§¤í•‘
public class BoardController {
    
    @PostMapping("/insert")  // ë©”ì†Œë“œ ë ˆë²¨ ë§¤í•‘
    public String insert() {
        // ì‹¤ì œ URL: http://localhost:8080/myApp/board/insert
        return "board/insertResult";
    }
    
    @GetMapping("/list")
    public String list() {
        // ì‹¤ì œ URL: http://localhost:8080/myApp/board/list
        return "board/list";
    }
}
```

---

## âœ… ModelAndViewì™€ ë°ì´í„° ì „ë‹¬

### ğŸ“Œ Viewì— ë°ì´í„° ì „ë‹¬ ë°©ë²•

#### **1. ModelAndView ì‚¬ìš©**
```java
@RequestMapping("/users/{id}")
public ModelAndView getUser(@PathVariable Long id) {
    ModelAndView mav = new ModelAndView();
    
    User user = userService.findById(id);
    mav.addObject("user", user);
    mav.setViewName("user/detail");
    
    return mav;
}
```

#### **2. Model ì‚¬ìš©** - **ğŸŒŸ ê¶Œì¥!**
```java
@GetMapping("/users/{id}")
public String getUser(@PathVariable Long id, Model model) {
    User user = userService.findById(id);
    model.addAttribute("user", user);
    
    return "user/detail";
}
```

#### **3. @ModelAttribute ë©”ì†Œë“œ**
```java
@Controller
public class UserController {
    
    // ëª¨ë“  ìš”ì²­ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  ë°ì´í„°
    @ModelAttribute("commonData")
    public Map<String, String> commonData() {
        Map<String, String> data = new HashMap<>();
        data.put("siteName", "My Website");
        return data;
    }
    
    @GetMapping("/users")
    public String list(Model model) {
        // commonDataëŠ” ìë™ìœ¼ë¡œ ëª¨ë“  Viewì—ì„œ ì‚¬ìš© ê°€ëŠ¥
        List<User> users = userService.findAll();
        model.addAttribute("users", users);
        
        return "user/list";
    }
}
```

---

## ğŸ¯ RESTful API ê°œë°œ

### ğŸ“Œ @RestController vs @Controller

| êµ¬ë¶„              | **@Controller**      | **@RestController**           |
| --------------- | -------------------- | ----------------------------- |
| **ìš©ë„**          | **ì›¹ í˜ì´ì§€ ë°˜í™˜**        | **JSON/XML ë°ì´í„° ë°˜í™˜**          |
| **ë°˜í™˜ íƒ€ì…**       | **View ì´ë¦„ (String)** | **ê°ì²´ (ìë™ìœ¼ë¡œ JSON ë³€í™˜)**        |
| **ì¶”ê°€ ì–´ë…¸í…Œì´ì…˜**    | @ResponseBody í•„ìš”     | **@ResponseBody ìë™ ì ìš©**       |

#### **ì „í†µì ì¸ Controller (ì›¹ í˜ì´ì§€)**
```java
@Controller
public class WebController {
    
    @GetMapping("/users")
    public String getUserPage(Model model) {
        List<User> users = userService.findAll();
        model.addAttribute("users", users);
        return "user/list";  // JSP í˜ì´ì§€ ë°˜í™˜
    }
}
```

#### **REST API Controller (JSON ë°ì´í„°)**
```java
@RestController
@RequestMapping("/api")
public class ApiController {
    
    @GetMapping("/users")
    public List<User> getUsers() {
        return userService.findAll();  // JSONìœ¼ë¡œ ìë™ ë³€í™˜
    }
    
    @PostMapping("/users")
    public ResponseEntity<User> createUser(@RequestBody User user) {
        User savedUser = userService.save(user);
        return ResponseEntity.status(HttpStatus.CREATED).body(savedUser);
    }
}
```

---

## âœ… ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œì˜ MVC ì„¤ì •

### ğŸ“Œ application.properties ì„¤ì •

```properties
# View ì„¤ì • (JSP ì‚¬ìš© ì‹œ)
spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp

# Thymeleaf ì„¤ì • (ê¶Œì¥)
spring.thymeleaf.prefix=classpath:templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false

# íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
```

### ğŸ“ í´ë” êµ¬ì¡°

```text
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â””â”€â”€ com/example/
â”‚   â”‚       â”œâ”€â”€ controller/
â”‚   â”‚       â”œâ”€â”€ service/
â”‚   â”‚       â””â”€â”€ repository/
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ templates/      â† Thymeleaf í…œí”Œë¦¿
â”‚   â”‚   â””â”€â”€ static/         â† CSS, JS, ì´ë¯¸ì§€
â”‚   â””â”€â”€ webapp/
â”‚       â”œâ”€â”€ WEB-INF/
â”‚       â”‚   â””â”€â”€ jsp/        â† JSP íŒŒì¼
â”‚       â””â”€â”€ resources/      â† ì •ì  ë¦¬ì†ŒìŠ¤
```

---

## âš ï¸ MVC ê°œë°œ ì‹œ ì£¼ì˜ì 

### ğŸ§± 1. ControllerëŠ” ì–‡ê²Œ ìœ ì§€

```java
// âŒ ë‚˜ìœ ì˜ˆ: Controllerì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
@Controller
public class BadController {
    @PostMapping("/users")
    public String createUser(User user) {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ Controllerì— ìˆìŒ
        if (user.getName() == null || user.getName().trim().isEmpty()) {
            throw new IllegalArgumentException("ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤");
        }
        // ... ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        return "redirect:/users";
    }
}

// âœ… ì¢‹ì€ ì˜ˆ: Serviceì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìœ„ì„
@Controller
public class GoodController {
    
    @Autowired
    private UserService userService;
    
    @PostMapping("/users")
    public String createUser(User user) {
        userService.createUser(user);  // Serviceì— ìœ„ì„
        return "redirect:/users";
    }
}
```

### ğŸ’¾ 2. ì˜ˆì™¸ ì²˜ë¦¬

```java
@ControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(IllegalArgumentException.class)
    public String handleIllegalArgument(IllegalArgumentException e, Model model) {
        model.addAttribute("error", e.getMessage());
        return "error/400";
    }
    
    @ExceptionHandler(Exception.class)
    public String handleGeneral(Exception e, Model model) {
        model.addAttribute("error", "ì‹œìŠ¤í…œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤");
        return "error/500";
    }
}
```

### ğŸ› ï¸ 3. ì…ë ¥ê°’ ê²€ì¦

```java
@PostMapping("/users")
public String createUser(@Valid User user, BindingResult result) {
    if (result.hasErrors()) {
        return "user/form";  // ê²€ì¦ ì‹¤íŒ¨ ì‹œ í¼ìœ¼ë¡œ ëŒì•„ê°€ê¸°
    }
    
    userService.save(user);
    return "redirect:/users";
}

// User í´ë˜ìŠ¤ì— ê²€ì¦ ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€
public class User {
    @NotBlank(message = "ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    private String name;
    
    @Email(message = "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤")
    private String email;
}
```

---

## ğŸ“š Spring MVC í•µì‹¬ ìš”ì•½

| ê°œë…               | ì„¤ëª…                           |
| ---------------- | ---------------------------- |
| **DispatcherServlet** | ëª¨ë“  ìš”ì²­ì˜ ì§„ì…ì  (Front Controller) |
| **HandlerMapping** | URLê³¼ Controller ë©”ì†Œë“œ ë§¤í•‘        |
| **ViewResolver**   | ë…¼ë¦¬ì  View ì´ë¦„ì„ ì‹¤ì œ Viewë¡œ ë³€í™˜     |
| **@RequestMapping** | URL ë§¤í•‘ê³¼ HTTP ë©”ì†Œë“œ ì§€ì •         |
| **@ModelAttribute** | í¼ ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë°”ì¸ë”©             |
| **@RequestBody**   | JSON ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë³€í™˜            |
| **@RestController** | JSON ì‘ë‹µì„ ìœ„í•œ Controller      |

---

## ğŸ§  MVC ê°œë°œ íë¦„

```text
1. @Controller í´ë˜ìŠ¤ ìƒì„±
   â†“
2. @RequestMappingìœ¼ë¡œ URL ë§¤í•‘
   â†“
3. íŒŒë¼ë¯¸í„° ìˆ˜ì§‘ (@RequestParam, @PathVariable ë“±)
   â†“
4. Service ë ˆì´ì–´ í˜¸ì¶œ
   â†“
5. Modelì— ë°ì´í„° ì¶”ê°€
   â†“
6. View ì´ë¦„ ë°˜í™˜
   â†“
7. ViewResolverê°€ ì‹¤ì œ View ì°¾ê¸°
   â†“
8. Viewê°€ HTML ìƒì„±í•˜ì—¬ ì‘ë‹µ
```

---

## ğŸ¯ ì‹¤ì œ í”„ë¡œì íŠ¸ ì˜ˆì‹œ

```java
@Controller
@RequestMapping("/board")
public class BoardController {
    
    @Autowired
    private BoardService boardService;
    
    // ê²Œì‹œê¸€ ëª©ë¡
    @GetMapping("/list")
    public String list(@RequestParam(defaultValue = "1") int page, Model model) {
        List<Board> boards = boardService.getBoardList(page);
        model.addAttribute("boards", boards);
        return "board/list";
    }
    
    // ê²Œì‹œê¸€ ìƒì„¸
    @GetMapping("/{id}")
    public String detail(@PathVariable Long id, Model model) {
        Board board = boardService.getBoard(id);
        model.addAttribute("board", board);
        return "board/detail";
    }
    
    // ê²Œì‹œê¸€ ì‘ì„± í¼
    @GetMapping("/write")
    public String writeForm(Model model) {
        model.addAttribute("board", new Board());
        return "board/write";
    }
    
    // ê²Œì‹œê¸€ ì €ì¥
    @PostMapping("/write")
    public String write(@Valid Board board, BindingResult result) {
        if (result.hasErrors()) {
            return "board/write";
        }
        
        boardService.saveBoard(board);
        return "redirect:/board/list";
    }
}
```

---

## ğŸ“š ì°¸ê³ ìë£Œ

* ã€ìŠ¤í”„ë§ MVCì™€ Controllerã€ ê°•ì˜ ìë£Œ
* Spring Framework ê³µì‹ ë¬¸ì„œ
* Spring Boot Reference Guide

> ì´ ê¸€ì€ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ **MVC íŒ¨í„´ê³¼ Controller í™œìš© ë°©ë²•ì„ ëª…í™•í•˜ê²Œ ì „ë‹¬**í•˜ê¸° ìœ„í•´
> ê°•ì˜ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ëœ í•™ìŠµ ìë£Œì…ë‹ˆë‹¤. ğŸ˜Š